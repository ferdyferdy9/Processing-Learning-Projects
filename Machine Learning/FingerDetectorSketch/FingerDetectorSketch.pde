import ipcapture.*;

IPCapture cam;
FingerDetector fd;
Boolean isDebug = false;

void setup(){
  size(640,480);
  cam = new IPCapture(this, "http://192.168.1.243:8080/video", "", "");
  cam.start();
  
  //String dna = "(0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (8, 8) 0.09192684 0.0 0.66015965 (0, 1) 0.46820283 0.83136463 0.127807 (16, 5) 0.22107995 0.97228444 0.060999423 (7, 8) 0.025934123 0.48140293 0.0034616701";
  String dna = "(0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (0, 0) 0.0 0.0 0.0 (8, 8) 0.09192684 0.0 0.66015965 (0, 8) 0.2079404 0.55504227 0.85633826 (0, 1) 0.46820283 0.83136463 0.127807 (1, 0) 0.018925205 0.51892966 0.0716644 (16, 5) 0.22107995 0.97228444 0.060999423 (9, 4) 0.0648427 0.0 0.6239269 (7, 8) 0.025934123 0.48140293 0.0034616701 (7, 7) 0.0012720795 0.06549082 0.0";
  fd = new FingerDetector(dna);
}

void draw(){
  cam.read();
  fd.markFingers(cam);
  
  if(!isDebug)
    image(cam, 0, 0);
  else
    image(fd.bb.img,0,0);
}

void keyPressed(){
  isDebug = !isDebug;
}
